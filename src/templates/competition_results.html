{% extends 'base.html' %}
{% block content %}
  <h2>Results for {{ competition.name }}</h2>

  {% if user_participant %}
    <p><strong>Your Rank:</strong> {{ user_rank }}</p>
    <p><strong>Your Total:</strong>{{ user_participant.steps }} </p>
  {% else %}
    <p>You did not participate in this competition.</p>
  {% endif %}

  <h3>Leaderboard</h3>
  <table>
    <tr>
      <th>Rank</th>
      <th>User</th>
      <th> Steps </th>
    </tr>
    {% for participant in leaderboard %}
      <tr {% if participant.user == user %}style="font-weight: bold;"{% endif %}>
        <td>{{ forloop.counter }}</td>
        <td>{{ participant.user.username }}</td>
        <td>{{ participant.steps}}  
        </td>
      </tr>
    {% endfor %}
  </table>
  <a href="{% url 'competition_list' %}">Back to Competitions</a>
{% endblock %}
